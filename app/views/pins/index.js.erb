$boxes = $('<%= j render(@pins) %>')

$('#pins').append( $boxes ).imagesLoaded( function(){
  $('#pins').masonry( 'reload' );
});
<% if @pins.next_page %>
  $('.pagination').replaceWith('<%= j will_paginate(@pins) %>');
<% else %>
  $(window).off('scroll');
  $('.pagination').remove();
<% end %>

$('#pins').masonry( 'appended', $boxes, true)